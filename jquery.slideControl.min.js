(function($){$.fn.slideControl=function(options){var defaults={speed:400,lowerBound:1,upperBound:10};var options=$.extend(defaults,options);return this.each(function(){var o=options;var controller=false;var position=0;var pos2val=function(pos){return(o.upperBound-o.lowerBound)*pos/100};var val2pos=function(val){return val*100/(o.upperBound-o.lowerBound)};var obj=this;$(this).addClass("slideControlInput");var parent=$(this).parent();var label=$(parent).find("label");parent.html("<label>"+$(label).html()+'</label><span class="slideControlContainer"><span class="slideControlFill" style="width:'+val2pos($(obj).val())+'%"><span class="slideControlHandle"></span></span></span>'+$(obj).wrap("<span></span>").parent().html());var container=parent.find(".slideControlContainer");var fill=container.find(".slideControlFill");var handle=fill.find(".slideControlHandle");var input=parent.find("input");var handleWidth=$(handle).outerWidth();var animate=function(value){$(fill).animate({width:value+"%"},o.speed)};if(getInternetExplorerVersion()<9&&getInternetExplorerVersion()>-1){handle.addClass("ieShadow")}$(container).click(function(e){e.preventDefault();var containerWidth=$(container).outerWidth()+1;var offset=$(container).offset();position=checkBoundaries(Math.round((e.pageX-offset.left+handleWidth/2)/containerWidth*100));animate(position);var val=pos2val(position);$(input).val(val);$(input).trigger("slide.change",val)});$(handle).mousedown(function(e){e.preventDefault();controller=true;var containerWidth=$(container).outerWidth()+1;var offset=$(container).offset();$(document).mousemove(function(e){e.preventDefault();position=checkBoundaries(Math.round((e.pageX-offset.left+handleWidth/2)/containerWidth*100));if(controller){$(fill).width(position+"%");$(input).val(pos2val(position))}});$(document).mouseup(function(){e.preventDefault();controller=false;$(input).trigger("slide.change",$(input).val())})});$(input).change(function(){var position=checkBoundaries(val2pos($(this).val()));if($(this).val()>o.upperBound)$(input).val(o.upperBound);else if($(this).val()<o.lowerBound)$(input).val(o.lowerBound);animate(position);$(input).trigger("slide.change",$(input).val())})});function checkBoundaries(pos){if(pos>100)return 100;else if(pos<0)return 0;else return pos}function getInternetExplorerVersion(){var rv=-1;if(navigator.appName=="Microsoft Internet Explorer"){var ua=navigator.userAgent;var re=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(re.exec(ua)!=null)rv=parseFloat(RegExp.$1)}return rv}return this}})(jQuery);